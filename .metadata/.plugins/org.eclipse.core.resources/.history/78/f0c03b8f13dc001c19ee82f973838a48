package ejercicio1;

import java.io.IOException;
import java.util.ArrayList;

public class Agenda {

	private String fichero;
	
	
	private ArrayList<Contacto> contactos = null;
		
	
	public Agenda(String archivo){
		fichero=archivo;
		contactos=new ArrayList<Contacto>();
	}
	
	public void anadir (String nom, String ape ) {
		if (comprobarCont(nom,ape)) {
			Contacto nuevo = new Contacto(nom,ape);
			contactos.add(nuevo);
		}else {
			System.out.println("Contacto repetido");
		}
		
	}
	
	
	public void ordenar() throws IOException {
		for(Contacto x : contactos) {
			System.out.println(x);
		}
	}
	
	public void guardar() {
		Archivo.escribir(fichero, contactos);
	}
	public void leer() throws IOException {
		contactos=Archivo.leer(fichero);
	}

	public boolean comprobarCont(String nom, String ape) {
		boolean bien = true;
		if( contactos != null) {
			for(Contacto x : contactos) {
				if(x.getNombre().equals(nom)) {
					if(x.getApellido().equals(ape)) {
						return true;
					}
				}
			}
			return false;
		}else {
			return true;
		}
	}
	
	
}
